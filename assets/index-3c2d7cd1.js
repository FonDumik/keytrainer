import{r as c,j as e,a as g,L as X}from"./index-57936c84.js";import{C as Z,s as S,u as h,a as N,b as K,c as Y,d as b,e as k,f as q,g as J,h as j,i as R,j as _,r as z,k as W,l as y,m as $,n as Q,o as m,p as U,q as C,t as ee,v,w as F,x as G,y as P,z as L,A as te,B as ne,P as se,D as re,K as ie}from"./index-ff3b92f0.js";function ae(s){let t=Math.floor(s/60),a=Math.floor(s%60);return a<10&&(a="0"+a),`${t}:${a}`}const ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADESURBVHgB3ZXRDcMgDERPnYARGM0jsEG6QbJJuhEjZITWlbCUupi4RPQjJ70fI86OsRXgqgpMYlYmM89CLjFCp4jZdoYWGT8mmR2mmnmUsSsBnTAWyDLPxoXNGZN48FZ9ZyK+pyWWs9qdpM1Xo4pYziVBVrHaFzzgbIk208msOx9qPdI+wZGxgBv+pKFtGfqgyahigj2KE5yLFNBeDE+s2hIRoT0BHggNLSeMFzjUk8BlLCIcL4r0ntApgv2be09YwOX0AiktBFJ8tAQjAAAAAElFTkSuQmCC",H=({isOpenDropDownState:s,children:t,header:a})=>{const o=c.useRef(),i=()=>s.action(!1);return e(Z,{nodeRef:o,in:s.state,timeout:300,classNames:"dropdown",unmountOnExit:!0,children:g("div",{className:S.showMenu,ref:o,children:[g("div",{className:S.dropdown__header,children:[e("p",{className:S.header__text,children:a}),e("button",{className:S.header__closeButton,onClick:i,children:e("img",{src:ce,alt:""})})]}),t]})})},oe="/assets/time-e71bcf8b.png",le=[5,10,15,20,25,30],ue=()=>{const{currentTime:s,selectedTime:t}=h(u=>u.timerReducer),{isTimeStarted:a}=h(u=>u.inputCurrentTextReducer),{isRestart:o}=h(u=>u.headerReducer),i=N();let[r,l]=c.useState(!1);const n=u=>{i(Y(u)),l(!1)};c.useEffect(()=>{a&&setTimeout(()=>i(K()),1e3)},[a,s]),c.useEffect(()=>{i(Y(t))},[o]);const p=()=>l(!0);return g("div",{className:b.timer,children:[g("div",{className:b.current,children:[e("img",{src:oe,alt:"t",width:"20"}),e("button",{className:b.switch,onClick:p,children:e("p",{children:ae(s)})})]}),e(H,{isOpenDropDownState:{state:r,action:l},header:"Таймер",children:le.map(u=>e("button",{className:b.switch,onClick:()=>n(u),children:e("p",{children:`${u}:00`})}))})]})},de=()=>{const s=h(f=>f.configurationTrainingReducer.configurationText),t=h(f=>f.headerReducer.isRestart),a=N(),[o,i]=c.useState(!1);function r(f,w,B){f.preventDefault(),a(q({language:w,mode:B})),a(J({language:w,mode:B})),a(j(!t)),i(!1)}function l(){return i(!0)}function n(f){return r(f,"RU","start")}function p(f){return r(f,"RU","begin")}function u(f){return r(f,"RU","training")}function d(f){return r(f,"ENG","start")}function D(f){return r(f,"ENG","begin")}function O(f){return r(f,"ENG","training")}return g("div",{className:k.container__configuration,children:[e("div",{className:k.button__textConfiguration,children:e("button",{onClick:l,children:e("p",{children:s})})}),g(H,{isOpenDropDownState:{state:o,action:i},header:"Выберите режим",children:[g("section",{className:k.configuration__sectionMenu,children:[e("p",{children:"Русский"}),e("a",{href:"",onClick:n,children:"Стартовый"}),e("a",{href:"",onClick:p,children:"Начальный"}),e("a",{href:"",onClick:u,children:"Тренировка"})]}),g("section",{className:k.configuration__sectionMenu,children:[e("p",{children:"English"}),e("a",{href:"",onClick:d,children:"Start"}),e("a",{href:"",onClick:D,children:"Begin"}),e("a",{href:"",onClick:O,children:"Training"})]})]})]})};function V(s){if(s.length!==0){let t=0;for(let o of s)t=Number(t+o);return Number(t/s.length).toFixed(2)}else return"--"}const fe="data:image/png;base64,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",he="/assets/speed-3ab6155d.png",ge="/assets/restart-dd566111.png",me="/assets/stop-46fb2f19.png",Ae=()=>{const{speed:s,speedArray:t,errors:a,errorsArray:o,isRestart:i}=h(n=>n.headerReducer),r=N();function l(){r(j(!i))}return e("header",{children:e("div",{className:"wrapper",children:g("div",{className:R.header__container,children:[g("div",{className:R.header__left,children:[e(X,{to:"/",className:R.logo,children:e("img",{src:fe,alt:"logo"})}),e(de,{}),e("button",{className:R.text_reset,onClick:l,title:"Обновить",children:e("img",{src:ge,alt:"",width:"20px"})})]}),e(ue,{}),g("div",{className:R.header__right,children:[g("div",{className:R.speed,children:[e("img",{src:he,alt:"sp",width:"20"}),e("p",{title:"Скорость печати / Средняя скорость, симв/мин",children:`${s} / ${V(t)}`})]}),g("div",{className:R.mistakes,children:[e("img",{src:me,alt:"",width:"20"}),e("p",{title:"Число ошибок / Среднее число ошибок",children:`${a} / ${V(o)}`})]})]})]})})})},pe="_input_86fc7_1",xe="_input__container_86fc7_5",Te="_text_86fc7_13",Re="_error_text_86fc7_28",Ee="_checked_86fc7_32",Ne="_line1_86fc7_40",E={input:pe,input__container:xe,text:Te,error_text:Re,checked:Ee,line1:Ne};function we(){const{isFinishedLine:s}=h(d=>d.inputCurrentTextReducer),{configuration:t}=h(d=>d.configurationTrainingReducer),{isRestart:a}=h(d=>d.headerReducer),{complexText:o,randomText:i}=h(d=>d.textContainerReducer),r=N();let l=t.language==="RU"&&(t.mode==="start"||t.mode==="begin"),n=t.language==="ENG"&&(t.mode==="start"||t.mode==="begin"),p=t.language==="RU"&&t.mode==="training",u=t.language==="ENG"&&t.mode==="training";return c.useEffect(()=>{r(_(i[0]))},[i]),c.useEffect(()=>{s&&(p||u)?o.length===1?r(z(t.language)):r(W()):s&&(l||n)&&r(y(t))},[s]),c.useEffect(()=>{r($(o[0]))},[o]),c.useEffect(()=>{p||u?r(z(t.language)):(l||n)&&r(y(t))},[t]),c.useEffect(()=>{p||u?r(z(t.language)):(l||n)&&r(y(t))},[a]),e("div",{children:l||n?e("div",{className:Q.line,children:i}):e("div",{className:Q.complexText,children:o.map(d=>e("div",{className:Q.line,children:d}))})})}const Ce="_window__break_1skkw_1",_e="_hidden_1skkw_22",x={window__break:Ce,hidden:_e},Be=()=>{const[s,t]=c.useState(m(x.window__break)),{selectedTime:a,currentTime:o}=h(n=>n.timerReducer),i=h(n=>n.headerReducer.isRestart),r=N();function l(n){n.preventDefault(),j(!i),r(Y(a)),t(m(x.window__break,x.hidden))}return c.useEffect(()=>{o<=1?(t(m(x.window__break)),r(U(!1))):t(m(x.window__break,x.hidden))},[o]),c.useEffect(()=>{i===!0&&s===x.window__break&&t(m(x.window__break,x.hidden))},[i]),g("div",{className:s,children:[e("p",{children:"Время вышло, пора отдохнуть"}),e("a",{href:"#",onClick:l,children:"Продолжить"})]})};function Ie(){const{randomText:s}=h(A=>A.textContainerReducer),{currentText:t,textErrors:a,wasError:o}=h(A=>A.inputCurrentTextReducer),{currentTime:i,selectedTime:r}=h(A=>A.timerReducer),{isRestart:l}=h(A=>A.headerReducer),n=N(),[p,u]=c.useState(m(C.input_text)),d=c.useRef(),[D,O]=c.useState(0),[f,w]=c.useState(0),B=A=>{let M=A.target;n(G(M.value));let T=d.current.value,I=T.length-1;T[I]===s[I]&&T.length!==s.length?(n(v(!1)),n(_(s[T.length])),w(Date.now())):T[I]!==s[I]?n(v(!0)):T.length===s.length&&(n(v(!1)),w(Date.now())),t.length===1?(i===r*60&&n(U(!0)),n(F()),n(P(!0)),n(L(!1)),O(Date.now())):T.length===s.length&&(n(L(!0)),n(te(Math.floor(s.length/((f-D)/6e4)))),n(ne(a)),n(G("")),n(_(s[0])))};return c.useEffect(()=>{let A=d.current.value;o===!0?(n(_("Backspace")),n(ee()),d.current.maxLength=d.current.value.length,u(m(C.input_text,C.error_input))):(n(_(s[A.length])),d.current.maxLength=s.length,u(C.input_text))},[o]),c.useEffect(()=>{i===0&&d.current.blur()},[i]),c.useEffect(()=>{n(v(!1)),n(F()),n(G("")),n(U(!1)),n(P(!1)),n(L(!1))},[l]),e("div",{className:C.inputText__container,children:e("input",{type:"text",className:p,onInput:B,value:t,maxLength:s.length,ref:d})})}const Se=()=>{const{selectedTime:s}=h(l=>l.timerReducer),{wasError:t,currentText:a}=h(l=>l.inputCurrentTextReducer),o=N(),[i,r]=c.useState(m(E.text));return c.useEffect(()=>{o(U(!1))},[s]),c.useEffect(()=>{r(t?m(E.text,E.error_text):m(E.text))},[t]),e("section",{className:m(E.input),children:e("div",{className:"wrapper",children:g("div",{className:m(E.input__container),children:[e(Ie,{}),g("div",{className:i,children:[e("div",{className:E.checked,children:a}),e(we,{})]}),e(Be,{})]})})})},be="_MainPage_sbkl2_1",ke={MainPage:be},De=()=>(c.useEffect(()=>{document.title="Klavaogr | Клавиатурный тренажер",document.querySelector("html").style.backgroundColor="#ffffff"},[]),e(se,{store:re,children:g("div",{className:ke.MainPage,children:[e(Ae,{}),e(Se,{}),e(ie,{})]})}));export{De as default};
