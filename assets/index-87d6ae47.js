import{a as f,j as i,r as a,L as te,R as j}from"./index-ff441d7f.js";import{c as x,u as re,a as se,b as Ae,d as ne,s as w,e as oe,C as ie,P as ce}from"./setSelectedShift-9f6cabb1.js";import{A as ae}from"./index-1c7fdae2.js";const le={speedArray:[],accuracy:100},V=x({name:"headerResults",initialState:le,reducers:{updateSpeed(e,t){e.speedArray=[...e.speedArray,t.payload]},updateAccuracy(e,t){const s=t.payload,A=s.reduce((n,o)=>o.correctlyPressed===!0||o.typoPressed===!0?n+1:n,0),r=s.reduce((n,o)=>o.typoPressed===!0?n+1:n,0);A!==0&&(e.accuracy=Math.floor((A-r)/A*100))},clearSpeed(e){e.speedArray=[]},clearAccuracy(e){e.accuracy=100}}}),{updateSpeed:de,updateAccuracy:N,clearSpeed:R,clearAccuracy:O}=V.actions,fe=V.reducer,ue="_container_18qx5_1",ye="_img_container_18qx5_12",ge="_number_18qx5_23",pe="_result_container_18qx5_30",he="_result_18qx5_30",Pe="_type_18qx5_42",_e="_placeholder_18qx5_46",C={container:ue,img_container:ye,number:ge,result_container:pe,result:he,type:Pe,placeholder:_e},v=({imageSrc:e,resultValue:t,resultType:s,resultPlaceholder:A})=>f("div",{className:C.container,children:[i("div",{className:C.img_container,children:i("img",{src:e,alt:"img"})}),f("div",{className:C.result_container,children:[f("div",{className:C.number,children:[i("p",{className:C.result,children:t}),s&&i("p",{className:C.type,children:s})]}),i("p",{className:C.placeholder,children:A})]})]}),Se="_container_zeo0e_1",Ce={container:Se},Te="/assets/speed-b8058402.svg",Be="/assets/accuracy-45bd2b88.svg",me="/assets/typos-ab60550a.svg",k=re,_=se,ke=e=>{if(e.length===0)return 0;const t=e.reduce((s,A)=>s+A*60,0);return Math.floor(t/e.length)},be=()=>{const{typos:e}=_(A=>A.InputTextClikClikReducer),{speedArray:t,accuracy:s}=_(A=>A.headerResultsReducer);return f("div",{className:Ce.container,children:[i(v,{imageSrc:Te,resultValue:ke(t),resultPlaceholder:"Speed"}),i(v,{imageSrc:Be,resultValue:s,resultType:"%",resultPlaceholder:"Accuracy"}),i(v,{imageSrc:me,resultValue:e,resultPlaceholder:"Typos"})]})},Ie="_last_letter_1tli7_1",Ee="_container_1tli7_8",Qe="_complete_text_1tli7_15",xe="_error_1tli7_20",Ne="_text_input_1tli7_25",P={last_letter:Ie,container:Ee,complete_text:Qe,error:xe,text_input:Ne},F=e=>e.slice(0,-1).split("").map(s=>({content:s,correctlyPressed:!1,typoPressed:!1,isSelected:!1,isTypo:!1})),ve=["!","%","?","-","+","=",".",",",":","(",")","_","*"],Le=["!","@","#","$","%","&","?","-","+","=","~",".",",",":","<",">","/"],G=e=>{let t=Math.floor(e.length*Math.random());return e[t]},we=()=>{const e=Math.floor(Math.random()*999);return String(e)},Re=(e,t)=>t&&Math.random()>.5?e[0].toUpperCase()+e.slice(1):e,$=(e,t)=>e&&Math.random()>=.4?G(t):"",M=(e,t)=>{const{isNumbers:s,isCapitalLetters:A,isPunctuation:r}=e;let n,o;t==="Ru"?(n=Ae,o=ve):t==="En"&&(n=ne,o=Le);let d="";for(;d.length<70;){let y;if(s&&Math.random()<=.4?y=we()+$(r,o):y=Re(G(n),A)+$(r,o),d.length+y.length+1<80)d=d+y+" ";else break}return d},Q={inputText:F(M({language:"Ru",isNumbers:!1,isCapitalLetters:!1,isPunctuation:!1},"Ru")),letterCounter:0,typos:0,inputTextLength:0,isEndLine:!1};Q.inputText[0].isSelected=!0;Q.inputTextLength=Q.inputText.length;const U=x({name:"InputTextClikClik",initialState:Q,reducers:{updateLastLetterForward(e){const{inputText:t}=e,s=t.find(A=>A.isSelected===!0);t[t.indexOf(s)].isSelected=!1,t[t.indexOf(s)].correctlyPressed=!0,t[t.indexOf(s)+1].isSelected=!0},updateLastLetterBackward(e){const{inputText:t}=e,s=t.find(A=>A.isSelected===!0);t[t.indexOf(s)].isSelected=!1,t[t.indexOf(s)-1]={...t[t.indexOf(s)-1],isSelected:!0,correctlyPressed:!1,typoPressed:!1}},updateTextInput(e,t){const s=F(M(t.payload,t.payload.language));s[0].isSelected=!0,e.inputText=s,e.isEndLine=!1,e.typos=0,e.inputText=e.inputText.map(A=>(A.isTypo=!1,A))},initTypo(e){const{inputText:t}=e,s=t.find(A=>A.isSelected===!0);t[t.indexOf(s)].isSelected=!1,t[t.indexOf(s)].typoPressed=!0,t[t.indexOf(s)].isTypo=!0,t[t.indexOf(s)].correctlyPressed=!1,t[t.indexOf(s)+1].isSelected=!0},addLetterCounter(e){e.letterCounter++},clearLetterCounter(e){e.letterCounter=0},addTypos(e){e.typos++},setEndStroke(e){const{inputText:t}=e,s=t.find(A=>A.isSelected===!0);t[t.indexOf(s)]={...t[t.indexOf(s)],isSelected:!1,correctlyPressed:!0},e.isEndLine=!0}}}),{updateLastLetterForward:Oe,updateLastLetterBackward:$e,updateTextInput:J,addLetterCounter:Je,clearLetterCounter:He,addTypos:Ke,initTypo:De,setEndStroke:H}=U.actions,je=U.reducer,Ve=()=>{const[e,t]=a.useState(null),[s,A]=a.useState(1),r=(o,d)=>{A(o===d?y=>y+1:1)},n=a.useCallback(o=>{o.key==="Shift"?(t(d=>o.code),r(o.code,e)):(t(d=>o.key),r(o.key,e))},[e]);return a.useEffect(()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}),[n]),[e,s]},Fe="_tab_1e4l7_5",Ge="_backspace_1e4l7_9",Me="_caps_1e4l7_17",Ue="_enter_1e4l7_22",qe="_shift_1e4l7_29",ze="_space_1e4l7_37",Xe="_sys_left_1e4l7_44",We="_sys_right_1e4l7_48",Ye="_active_default_1e4l7_72",Ze="_showHideActive_1e4l7_1",et="_error_default_1e4l7_85",tt="_showHideError_1e4l7_1",rt="_sys_default_1e4l7_111",st="_error_1prior_1e4l7_125",At="_error_2prior_1e4l7_129",nt="_error_3prior_1e4l7_133",l={tab:Fe,backspace:Ge,caps:Me,enter:Ue,shift:qe,space:ze,sys_left:Xe,sys_right:We,default:"_default_1e4l7_59",active_default:Ye,showHideActive:Ze,error_default:et,showHideError:tt,sys_default:rt,error_1prior:st,error_2prior:At,error_3prior:nt};function B(e){switch(e){case"1":return l.default;case"1.1":return l.default;case"3":return l.default;case"4":return l.default;case"5":return l.default;case"sys enter":return`${l.sys_default} ${l.enter}`;case"sys backspace":return`${l.sys_default} ${l.backspace}`;case"sys shift":return`${l.sys_default} ${l.shift}`;case"sys tab":return`${l.sys_default} ${l.tab} ${l.sys_left}`;case"sys caps":return`${l.sys_default} ${l.caps} ${l.sys_left}`;case"sys space":return`${l.sys_default} ${l.space}`}}const ot=({config:e})=>{const[t,s]=a.useState(""),{selected:A,setType:r,content1:n,content2:o,errorPressed:d,errorPriority:y}=e,[u,h]=a.useState("");function p(c,S){if(S!==void 0)return f("section",{children:[i("p",{children:c}),i("sup",{children:S})]});if(S===void 0)return i("section",{children:i("p",{children:c})})}const T=a.useCallback(()=>{h(d===!0?` ${l.error_default}`:"")},[d]);a.useEffect(()=>{T()},[T]);const b=a.useCallback(()=>{s(A===!0?B(r)+` ${l.active_default}`:B(r))},[A,r]);a.useEffect(()=>{b()},[b]);const I=a.useCallback(()=>{switch(y){case 1:return s(B(r)+` ${l.error_1prior}`);case 2:return s(B(r)+` ${l.error_2prior}`);case 3:return s(B(r)+` ${l.error_3prior}`);default:return s(B(r))}},[y,r]);return a.useEffect(()=>{I()},[I]),i("div",{className:t+u,children:p(n,o)})},it=a.memo(ot),q={downCase:[" ","а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ь","ы","ъ","э","ю","я","1","2","3","4","5","6","7","8","9","0","Enter"],upperCase:["А","Б","В","Г","Д","Е","Ё","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ь","Ы","Ъ","Э","Ю","Я"],symbols:["!","%","?","-","+","=",".",",",";",":","(",")","_","*"]},z=[{setType:"5",content1:"Ё",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"1",content2:"!",errorPriority:0,errorPressed:!1,needShift:"right",selected:!1},{setType:"4",content1:"2",content2:'"',errorPriority:0,errorPressed:!1,needShift:"right",selected:!1},{setType:"3",content1:"3",content2:"№",errorPriority:0,errorPressed:!1,needShift:"right",selected:!1},{setType:"1.1",content1:"4",content2:";",errorPriority:0,errorPressed:!1,needShift:"right",selected:!1},{setType:"1.1",content1:"5",content2:"%",errorPriority:0,errorPressed:!1,needShift:"right",selected:!1},{setType:"1",content1:"6",content2:":",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"1",content1:"7",content2:"?",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"3",content1:"8",content2:"*",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"4",content1:"9",content2:"(",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"5",content1:"0",content2:")",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"5",content1:"-",content2:"_",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"5",content1:"=",content2:"+",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"sys backspace",content1:"Backspace",errorPressed:!1,selected:!1},{setType:"sys tab",content1:"Tab",errorPressed:!1,selected:!1},{setType:"5",content1:"Й",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Ц",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"У",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"К",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"Е",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"Н",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"Г",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"Ш",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Щ",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"З",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"Х",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"Ъ",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"|",content2:"/",errorPriority:0,errorPressed:!1,needShift:"left",selected:!1},{setType:"sys caps",content1:"CapsLock",errorPressed:!1,selected:!1},{setType:"5",content1:"Ф",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Ы",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"В",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"А",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"П",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"Р",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"О",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"Л",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Д",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"Ж",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:"Э",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"sys enter",content1:"Enter",errorPressed:!1,errorPriority:0,selected:!1},{setType:"sys shift",content1:"Shift",positionFor:"left",selected:!1},{setType:"5",content1:"Я",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Ч",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"С",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"М",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1.1",content1:"И",needShift:"right",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"Т",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"1",content1:"Ь",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"3",content1:"Б",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"4",content1:"Ю",needShift:"left",errorPriority:0,errorPressed:!1,selected:!1},{setType:"5",content1:".",content2:",",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"sys shift",content1:"Shift",positionFor:"right",selected:!1},{setType:"sys space",content1:" ",errorPriority:0,errorPressed:!1,selected:!1}],ct={downCase:[" ","a","s","d","f","g","h","j","k","l","q","w","e","r","t","y","u","i","o","p","z","x","c","v","b","n","m","1","2","3","4","5","6","7","8","9","0","Enter"],upperCase:["P","O","I","U","Y","T","R","E","W","Q","L","K","J","H","G","F","D","S","A","M","N","B","V","C","X","Z"],symbols:["!","@","#","$","%","&","?","-","+","=","~",".",",",":","<",">","/","`","|"]},at=[{setType:"5",content1:"`",content2:"~",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"5",content1:"1",content2:"!",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"4",content1:"2",content2:"@",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"3",content1:"3",content2:"#",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"1.1",content1:"4",content2:"$",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"1.1",content1:"5",content2:"%",needShift:"right",errorPressed:!1,errorPriority:0,selected:!1},{setType:"1",content1:"6",content2:"^",errorPressed:!1,errorPriority:0,needShift:"left",selected:!1},{setType:"1",content1:"7",content2:"&",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"3",content1:"8",content2:"*",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"4",content1:"9",content2:"(",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"5",content1:"0",content2:")",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"5",content1:"-",content2:"_",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"5",content1:"=",content2:"+",needShift:"left",errorPressed:!1,errorPriority:0,selected:!1},{setType:"sys backspace",errorPressed:!1,errorPriority:0,content1:"Backspace",selected:!1},{setType:"sys tab",errorPressed:!1,errorPriority:0,content1:"Tab",selected:!1},{setType:"5",errorPressed:!1,errorPriority:0,content1:"Q",needShift:"right",selected:!1},{setType:"4",errorPressed:!1,errorPriority:0,content1:"W",needShift:"right",selected:!1},{setType:"3",errorPressed:!1,errorPriority:0,content1:"E",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"R",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"T",needShift:"right",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"Y",needShift:"left",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"U",needShift:"left",selected:!1},{setType:"3",errorPressed:!1,errorPriority:0,content1:"I",needShift:"left",selected:!1},{setType:"4",errorPressed:!1,errorPriority:0,content1:"O",needShift:"left",selected:!1},{setType:"5",errorPressed:!1,errorPriority:0,content1:"P",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:"[",content2:"{",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:"]",content2:"}",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:"/",content2:"|",needShift:"left",selected:!1},{setType:"sys caps",errorPressed:!1,errorPriority:0,content1:"CapsLock",selected:!1},{setType:"5",errorPressed:!1,errorPriority:0,content1:"A",needShift:"right",selected:!1},{setType:"4",errorPressed:!1,errorPriority:0,content1:"S",needShift:"right",selected:!1},{setType:"3",errorPressed:!1,errorPriority:0,content1:"D",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"F",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"G",needShift:"right",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"H",needShift:"left",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"J",needShift:"left",selected:!1},{setType:"3",errorPressed:!1,errorPriority:0,content1:"K",needShift:"left",selected:!1},{setType:"4",errorPressed:!1,errorPriority:0,content1:"L",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:";",content2:":",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:"'",content2:'"',needShift:"left",selected:!1},{setType:"sys enter",errorPressed:!1,errorPriority:0,content1:"Enter",selected:!1},{errorPressed:!1,errorPriority:0,setType:"sys shift",content1:"Shift",positionFor:"left",selected:!1},{setType:"5",errorPressed:!1,errorPriority:0,content1:"Z",needShift:"right",selected:!1},{setType:"4",errorPressed:!1,errorPriority:0,content1:"X",needShift:"right",selected:!1},{setType:"3",errorPressed:!1,errorPriority:0,content1:"C",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"V",needShift:"right",selected:!1},{setType:"1.1",errorPressed:!1,errorPriority:0,content1:"B",needShift:"right",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"N",needShift:"left",selected:!1},{setType:"1",errorPressed:!1,errorPriority:0,content1:"M",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"3",content1:",",content2:"<",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"4",content1:".",content2:">",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"5",content1:"/",content2:"?",needShift:"left",selected:!1},{errorPressed:!1,errorPriority:0,setType:"sys shift",content1:"Shift",positionFor:"right",selected:!1},{setType:"sys space",errorPressed:!1,errorPriority:0,content1:" ",selected:!1}],lt=e=>{const s=e.filter(o=>o.isTypo).map(o=>o.content).reduce((o,d)=>(o[d]=(o[d]||0)+1,o),{});let A=[];for(let o in s)A.push(s[o]);let r=[],n=Math.max.apply(null,A);for(let o in s)s[o]===n?r.push({content:o,priority:1}):n/s[o]<=.4?r.push({content:o,priority:2}):n/s[o]>=.4&&r.push({content:o,priority:3});return r},dt=(e,t,s)=>{let A;for(let r in s){let n=s[r].includes(t);if(n){A={isOnArray:n,elemArray:r};break}}if(A===void 0)return e;if(A.isOnArray&&A.elemArray==="downCase")return e.map(r=>((r.content1.toLowerCase()===t||r.content1===t)&&(r.errorPressed=!0),r));if(A.isOnArray&&A.elemArray==="upperCase")return e.map(r=>(r.content1===t&&(r.errorPressed=!0),r));if(A.isOnArray&&A.elemArray==="symbols")return e.map(r=>((r.content1===t||r.content2===t)&&(r.errorPressed=!0),r))},ft=(e,t,s)=>{let A;for(let r in e){let n=e[r].includes(t);if(n){A={isOnArray:n,elemArray:r};break}}if(A.isOnArray&&A.elemArray==="downCase")return s=s.map(r=>(r.selected=!1,(r.content1===t.toUpperCase()||r.content1===t)&&(r.selected=!0),r)),s;if(A.isOnArray&&A.elemArray==="upperCase"){s.map(n=>(n.selected=!1,n));let r="";for(let n of s)n.content1===t&&(n.selected=!0,r=n.needShift);return w(r,s),s}else if(A.isOnArray&&A.elemArray==="symbols"){s.map(n=>(n.selected=!1,n));let r="";for(let n of s)n.content1===t?n.selected=!0:n.content2===t&&(n.selected=!0,r=n.needShift);return w(r,s),s}},ut=(e,t,s,A)=>{for(let r in A){const n=A[r].includes(e);if(n&&r==="downCase")return s.map(o=>((o.content1.toLowerCase()===e||o.content1===e)&&(o.errorPriority=t),o));if(n&&r==="upperCase")return s.map(o=>(o.content1===e&&(o.errorPriority=t),o));if(n&&r==="symbols")return s.map(o=>((o.content1===e||o.content2===e)&&(o.errorPriority=t),o))}},yt=(e,t,s)=>{let A;for(let r in s){let n=s[r].includes(t);if(n){A={isOnArray:n,elemArray:r};break}}if(A.isOnArray&&A.elemArray==="downCase")return e.map(r=>((r.content1.toLowerCase()===t||r.content1===t)&&(r.errorPressed=!1),r));if(A.isOnArray&&A.elemArray==="upperCase")return e.map(r=>(r.content1===t&&(r.errorPressed=!1),r));if(A.isOnArray&&A.elemArray==="symbols")return e.map(r=>((r.content1===t||r.content2===t)&&(r.errorPressed=!1),r))},gt={keysCases:q,keyList:z,letterTypo:"",counterTypo:0,arrayTypo:[]},X=x({name:"InteractiveKeyboard",initialState:gt,reducers:{showErrorKey(e,t){e.keyList=dt(e.keyList,t.payload,e.keysCases)},showSelectedKey(e,t){e.keyList=ft(e.keysCases,t.payload,e.keyList)},returnKeyList(e,t){e.keyList=yt(e.keyList,t.payload,e.keysCases)},setLetterTypo(e,t){e.letterTypo=t.payload,e.counterTypo=e.counterTypo+1},setPriorityTypoKeys(e,t){let s=lt(t.payload);for(let A of s)e.keyList=ut(A.content,A.priority,e.keyList,e.keysCases)},setArrayTypos(e,t){e.arrayTypo=[...e.arrayTypo,t.payload]},clearTypoKeyboard(e){e.keyList=e.keyList.map(t=>(t.errorPriority=0,t)),e.arrayTypo=[]},clearSelectedKeys(e){e.keyList=e.keyList.map(t=>(t.selected=!1,t))},changeKeyboard(e,t){t.payload==="Ru"?(e.keyList=z,e.keysCases=q):t.payload==="En"&&(e.keyList=at,e.keysCases=ct)}}}),{showErrorKey:pt,returnKeyList:ht,setLetterTypo:Pt,showSelectedKey:K,setPriorityTypoKeys:_t,clearTypoKeyboard:St,setArrayTypos:Ct,clearSelectedKeys:Tt,changeKeyboard:Bt}=X.actions,mt=X.reducer,kt="_keyboard_4u18s_1",bt={keyboard:kt},It="/assets/tindeck_1-d94b976a.mp3",Et=()=>{const{keyList:e,letterTypo:t,counterTypo:s}=_(p=>p.InteractiveKeyboardReducer),{inputText:A,isEndLine:r}=_(p=>p.InputTextClikClikReducer),{configurationKeyboard:n}=_(p=>p.sidebarReducer),o=k(),d=a.useCallback(()=>{n.isSoundError&&new Audio(It).play(),r||(o(pt(t)),setTimeout(()=>{o(ht(t))},5e3))},[t,s]),[y,u]=a.useState(!0),h=a.useCallback(()=>{if(y&&!r){const p=A.find(T=>T.isSelected===!0);o(K(p.content))}r&&o(K("Enter")),!y&&!r&&o(Tt())},[A,y]);return a.useEffect(()=>{n.keyHints?u(!0):u(!1)},[n]),a.useEffect(()=>{h()},[h]),a.useEffect(()=>{d()},[d]),a.useEffect(()=>{o(r===!0?_t(A):St())},[r]),a.useEffect(()=>{o(Bt(n.language))},[n]),i("div",{className:bt.keyboard,"data-testid":"int-keyboard",children:e.map(p=>i(it,{config:p}))})},Qt=a.memo(Et),xt=()=>{const{inputText:e,letterCounter:t,inputTextLength:s,isEndLine:A}=_(c=>c.InputTextClikClikReducer),{configurationText:r}=_(c=>c.sidebarReducer),n=k(),[o,d]=Ve(),[y,u]=a.useState(!1),[h,p]=a.useState(0);a.useEffect(()=>{const c=setInterval(()=>{p(S=>S+1)},1e3);return()=>{clearInterval(c)}},[]),a.useEffect(()=>{y&&(n(de(t)),n(He()))},[h]),a.useEffect(()=>{const c=e.find(S=>S.isSelected===!0);o==="Backspace"&&A===!1&&e.indexOf(c)!==0&&(n($e()),n(N(e))),c!==void 0&&o===c.content&&e.indexOf(c)!==e.length-1&&A===!1&&(n(Oe()),u(!0),n(Je()),n(N(e))),c!==void 0&&o===c.content&&e.indexOf(c)===e.length-1&&A===!1&&(n(H()),u(!1),n(N(e))),c!==void 0&&o!==c.content&&e.indexOf(c)!==s-1&&A===!1&&(n(Ct(c.content)),T(o)),c!==void 0&&o!=="ShiftLeft"&&o!=="ShiftRight"&&o!==""&&o!==null&&o!=="Backspace"&&o!==c.content&&e.indexOf(c)===s-1&&(n(H()),u(!1)),o==="Enter"&&A===!0&&(n(J(r)),n(O()),n(R()))},[o,d]);const T=c=>{c!=="ShiftLeft"&&c!=="ShiftRight"&&c!==""&&c!==null&&c!=="Backspace"&&(n(Ke()),n(De()),n(Pt(c)))};function b(c){return c.isSelected?i("span",{className:P.last_letter,children:c.content}):c.typoPressed?i("span",{className:P.error,children:c.content}):c.correctlyPressed?i("span",{className:P.complete_text,children:c.content}):i("span",{className:P.text_input,children:c.content})}a.useEffect(()=>{n(J(r)),n(O()),n(R())},[r]);function I(c){return c.isSelected?i("span",{className:P.last_letter,children:c.content}):c.correctlyPressed&&!c.isTypo?i("span",{className:P.complete_text,children:c.content}):c.isTypo?i("span",{className:P.error,children:c.content}):i("span",{className:P.text_input,children:c.content})}return i("div",{className:P.container,children:A?e.map(c=>I(c)):e.map(c=>b(c))})},Nt={configurationText:{language:"Ru",isCapitalLetters:!1,isNumbers:!1,isPunctuation:!1},configurationKeyboard:{language:"Ru",isSoundError:!1,keyHints:!0},isOpenSidebar:!1},W=x({name:"sidebar",initialState:Nt,reducers:{toggleCapitalLetters(e){e.configurationText.isCapitalLetters=!e.configurationText.isCapitalLetters},toggleNumbers(e){e.configurationText.isNumbers=!e.configurationText.isNumbers},togglePunctuation(e){e.configurationText.isPunctuation=!e.configurationText.isPunctuation},toggleShowHints(e){e.configurationKeyboard.keyHints=!e.configurationKeyboard.keyHints},toggleSoundError(e){e.configurationKeyboard.isSoundError=!e.configurationKeyboard.isSoundError},toggleSidebar(e,t){e.isOpenSidebar=t.payload},changeLanguage(e,t){e.configurationKeyboard.language=t.payload,e.configurationText.language=t.payload}}}),{toggleCapitalLetters:vt,toggleNumbers:Lt,togglePunctuation:wt,toggleShowHints:Rt,toggleSoundError:Ot,toggleSidebar:Y,changeLanguage:$t}=W.actions,Jt=W.reducer,Ht={InteractiveKeyboardReducer:mt,InputTextClikClikReducer:je,headerResultsReducer:fe,sidebarReducer:Jt},Kt=oe({reducer:Ht}),Dt="_container_79t7g_1",jt={container:Dt},Vt={default:"_default_w8xjv_1"},D=({img:e,onClick:t})=>i("button",{className:Vt.default,onClick:t,children:i("img",{src:e,alt:""})}),Ft="_container_1vt3u_1",Gt={container:Ft},Mt="/assets/gear-fill-6063f723.svg",Ut="/assets/arrow-left-f3e6b0f7.svg",qt=()=>{const e=k();return f("div",{className:Gt.container,children:[i(te,{to:"/",children:i(D,{img:Ut})}),i(D,{img:Mt,onClick:()=>e(Y(!0))})]})};const zt="_sidebar_17s1b_1",Xt="_container_17s1b_15",Wt="_close_sidebar_17s1b_21",Yt="_header_17s1b_29",Zt="_settings_container_17s1b_35",er="_settings_header_17s1b_41",tr="_settings_section_17s1b_51",g={sidebar:zt,container:Xt,close_sidebar:Wt,header:Yt,settings_container:Zt,settings_header:er,settings_section:tr},rr="_container_hzvbg_1",sr="_checkbox_hzvbg_15",Ar="_label_hzvbg_23",L={container:rr,checkbox:sr,label:Ar},m=({checked:e,onClick:t})=>f("label",{className:L.container,children:[i("input",{type:"checkbox",className:L.checkbox,checked:e,onClick:t}),i("span",{className:L.label})]}),nr="_container_et5o2_1",or="_major_section_et5o2_10",ir="_hiddenContent_et5o2_26",cr="_hiddenContent_section_et5o2_35",E={container:nr,major_section:or,hiddenContent:ir,hiddenContent_section:cr},Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAb3SURBVHic7dnBSV5RFEbRd+UfiPaQBqzAVqzBcgJ24NAGUoA4cuQosxSRIASuXbwj7LUaON/sbrjHAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA97WmB+y9b6Y3AMDZ1lp/R+9PHj+O49h77+kNAHC2tdboG3w1eRwAmCEAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAARdpgc8vfx+m94AADVresBx/7ynJwDA6V4fRt9gXwAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAARdpgc8fv56n94AAGf7OXx/Dd8/Pu5+7OkNAHC2u48/o2+wLwAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIu0wP+Xf+/nd4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8H18AXNNGb0by1CfAAAAAElFTkSuQmCC",ee="/assets/united-kingdom-5261c400.png",ar=[{language:"Ru",img:Z},{language:"En",img:ee}],lr=()=>{const[e,t]=a.useState(0),{configurationKeyboard:s}=_(u=>u.sidebarReducer),A=k(),r=u=>{if(u==="Ru")return{language:"Ru",img:Z};if(u==="En")return{language:"En",img:ee}},n=()=>t(e===0?"auto":0),[o,d]=a.useState(r(s.language)),y=u=>{d(u),A($t(u.language)),t(e===0?"auto":0)};return f("div",{className:E.container,children:[f("button",{className:E.major_section,"aria-controls":"open_dropdown_content","aria-expanded":e!==0,onClick:n,children:[i("img",{src:o.img,alt:""}),i("p",{children:o.language})]}),i("div",{className:E.hiddenContent,children:i(ae,{id:"open_dropdown_content",duration:300,height:e,children:ar.map(u=>f("button",{className:E.hiddenContent_section,onClick:()=>{y(u)},children:[i("img",{src:u.img,alt:""}),i("p",{children:u.language})]}))})})]})},dr=()=>{const e=k(),t=j.useRef(null),{isOpenSidebar:s,configurationText:A,configurationKeyboard:r}=_(o=>o.sidebarReducer),n=()=>{s&&e(Y())};return i(ie,{nodeRef:t,classNames:"sidebar",in:s,timeout:500,unmountOnExit:!0,children:f("div",{ref:t,className:g.container,children:[i("div",{className:g.close_sidebar,onClick:n}),f("div",{className:g.sidebar,children:[f("div",{className:g.settings_container,children:[i("div",{className:g.settings_header,children:i("h3",{children:"ADD TO THE LESSON"})}),f("div",{className:g.settings_section,children:[i("p",{children:"Punctuation"}),i(m,{checked:A.isPunctuation,onClick:()=>{e(wt())}})]}),f("div",{className:g.settings_section,children:[i("p",{children:"Capital letters"}),i(m,{checked:A.isCapitalLetters,onClick:()=>{e(vt())}})]}),f("div",{className:g.settings_section,children:[i("p",{children:"Numbers"}),i(m,{checked:A.isNumbers,onClick:()=>{e(Lt())}})]})]}),f("div",{className:g.settings_container,children:[i("div",{className:g.settings_header,children:i("h3",{children:"SETTINGS"})}),f("div",{className:g.settings_section,children:[i("p",{children:"Language"}),i(lr,{})]})]}),f("div",{className:g.settings_container,children:[i("div",{className:g.settings_header,children:i("h3",{children:"TYPING SETTINGS"})}),f("div",{className:g.settings_section,children:[i("p",{children:"Show hints"}),i(m,{checked:r.keyHints,onClick:()=>{e(Rt())}})]}),f("div",{className:g.settings_section,children:[i("p",{children:"Add sound of error?"}),i(m,{checked:r.isSoundError,onClick:()=>{e(Ot())}})]})]})]})]})})},gr=()=>(j.useEffect(()=>{document.title="ClikClik",document.querySelector("html").style.backgroundColor="#131217"},[]),i(ce,{store:Kt,children:f("div",{className:jt.container,children:[i(be,{}),i(xt,{}),i(Qt,{}),i(qt,{}),i(dr,{})]})}));export{gr as default};
